{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shiva\\\\Desktop\\\\blog-platform\\\\frontend\\\\src\\\\components\\\\Blog\\\\BlogDetail.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { incrementView, likePost } from '../../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogDetail = () => {\n  _s();\n  var _post$author, _post$tags;\n  const {\n    id\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchAndView = async () => {\n      try {\n        // Increment view count\n        await incrementView(id);\n        // Fetch post details\n        const data = await import('../../utils/api').then(api => api.fetchPostById(id));\n        setPost(data);\n      } catch (err) {\n        setError('Error fetching post details');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAndView();\n  }, [id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      maxWidth: 700,\n      margin: '2rem auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog-card\",\n      style: {\n        background: '#fff',\n        borderRadius: '8px',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.08)',\n        padding: '2rem'\n      },\n      children: [post.image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5000${post.image}`,\n        alt: \"Post\",\n        style: {\n          width: '100%',\n          maxHeight: '420px',\n          objectFit: 'cover',\n          borderRadius: '10px',\n          marginBottom: '1.3rem',\n          boxShadow: '0 2px 12px #b39ddb22'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"blog-title\",\n        style: {\n          fontSize: '2.2rem',\n          fontWeight: 'bold',\n          marginBottom: '0.5rem'\n        },\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"blog-meta\",\n        style: {\n          color: '#888',\n          marginBottom: '1.5rem'\n        },\n        children: [\"By \", ((_post$author = post.author) === null || _post$author === void 0 ? void 0 : _post$author.name) || 'Unknown', \" | \", new Date(post.createdAt).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '1rem 0',\n          fontSize: '1.15rem',\n          lineHeight: '1.7'\n        },\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1rem',\n          color: '#2575fc',\n          fontWeight: 'bold'\n        },\n        children: [\"Tags: \", ((_post$tags = post.tags) === null || _post$tags === void 0 ? void 0 : _post$tags.join(', ')) || 'None']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '2rem',\n          marginTop: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: async () => {\n            const token = localStorage.getItem('token');\n            if (!token) return;\n            const res = await likePost(post._id, token);\n            setPost(p => ({\n              ...p,\n              likes: res.likes\n            }));\n          },\n          style: {\n            background: '#fff',\n            color: '#6c63ff',\n            border: '1px solid #6c63ff',\n            borderRadius: '50%',\n            width: 36,\n            height: 36,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontWeight: 'bold',\n            fontSize: '1.1rem',\n            cursor: 'pointer'\n          },\n          title: \"Like\",\n          children: \"\\u2764\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#6c63ff',\n            fontWeight: 'bold'\n          },\n          children: [post.likes ? post.likes.length : 0, \" Likes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#888',\n            fontWeight: 'bold'\n          },\n          children: [post.views || 0, \" Views\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n_s(BlogDetail, \"HEuJ3XdoldksiV2n+Mg4TLBg8uY=\", false, function () {\n  return [useParams];\n});\n_c = BlogDetail;\nexport default BlogDetail;\nvar _c;\n$RefreshReg$(_c, \"BlogDetail\");","map":{"version":3,"names":["useEffect","useState","useParams","incrementView","likePost","jsxDEV","_jsxDEV","BlogDetail","_s","_post$author","_post$tags","id","post","setPost","loading","setLoading","error","setError","fetchAndView","data","then","api","fetchPostById","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","maxWidth","margin","background","borderRadius","boxShadow","padding","image","src","alt","width","maxHeight","objectFit","marginBottom","fontSize","fontWeight","title","color","author","name","Date","createdAt","toLocaleDateString","lineHeight","content","tags","join","display","alignItems","gap","marginTop","onClick","token","localStorage","getItem","res","_id","p","likes","border","height","justifyContent","cursor","length","views","_c","$RefreshReg$"],"sources":["C:/Users/shiva/Desktop/blog-platform/frontend/src/components/Blog/BlogDetail.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { incrementView, likePost } from '../../utils/api';\n\nconst BlogDetail = () => {\n    const { id } = useParams();\n    const [post, setPost] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const fetchAndView = async () => {\n            try {\n                // Increment view count\n                await incrementView(id);\n                // Fetch post details\n                const data = await import('../../utils/api').then(api => api.fetchPostById(id));\n                setPost(data);\n            } catch (err) {\n                setError('Error fetching post details');\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchAndView();\n    }, [id]);\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>{error}</div>;\n\n    return (\n        <div className=\"container\" style={{ maxWidth: 700, margin: '2rem auto' }}>\n            <div className=\"blog-card\" style={{ background: '#fff', borderRadius: '8px', boxShadow: '0 2px 8px rgba(0,0,0,0.08)', padding: '2rem' }}>\n                {/* Post Image */}\n                {post.image && (\n                    <img\n                        src={`http://localhost:5000${post.image}`}\n                        alt=\"Post\"\n                        style={{\n                            width: '100%',\n                            maxHeight: '420px',\n                            objectFit: 'cover',\n                            borderRadius: '10px',\n                            marginBottom: '1.3rem',\n                            boxShadow: '0 2px 12px #b39ddb22',\n                        }}\n                    />\n                )}\n                <div className=\"blog-title\" style={{ fontSize: '2.2rem', fontWeight: 'bold', marginBottom: '0.5rem' }}>{post.title}</div>\n                <div className=\"blog-meta\" style={{ color: '#888', marginBottom: '1.5rem' }}>By {post.author?.name || 'Unknown'} | {new Date(post.createdAt).toLocaleDateString()}</div>\n                <p style={{ margin: '1rem 0', fontSize: '1.15rem', lineHeight: '1.7' }}>{post.content}</p>\n                <div style={{ marginBottom: '1rem', color: '#2575fc', fontWeight: 'bold' }}>\n                    Tags: {post.tags?.join(', ') || 'None'}\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '2rem', marginTop: '1.5rem' }}>\n                    <button\n                        onClick={async () => {\n                            const token = localStorage.getItem('token');\n                            if (!token) return;\n                            const res = await likePost(post._id, token);\n                            setPost(p => ({ ...p, likes: res.likes }));\n                        }}\n                        style={{ background: '#fff', color: '#6c63ff', border: '1px solid #6c63ff', borderRadius: '50%', width: 36, height: 36, display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: '1.1rem', cursor: 'pointer' }}\n                        title=\"Like\"\n                    >❤</button>\n                    <span style={{ color: '#6c63ff', fontWeight: 'bold' }}>{post.likes ? post.likes.length : 0} Likes</span>\n                    <span style={{ color: '#888', fontWeight: 'bold' }}>{post.views || 0} Views</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default BlogDetail;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,aAAa,EAAEC,QAAQ,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,YAAA,EAAAC,UAAA;EACrB,MAAM;IAAEC;EAAG,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZ,MAAMkB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACA;QACA,MAAMf,aAAa,CAACQ,EAAE,CAAC;QACvB;QACA,MAAMQ,IAAI,GAAG,MAAM,MAAM,CAAC,iBAAiB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,aAAa,CAACX,EAAE,CAAC,CAAC;QAC/EE,OAAO,CAACM,IAAI,CAAC;MACjB,CAAC,CAAC,OAAOI,GAAG,EAAE;QACVN,QAAQ,CAAC,6BAA6B,CAAC;MAC3C,CAAC,SAAS;QACNF,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IACDG,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,CAACP,EAAE,CAAC,CAAC;EAER,IAAIG,OAAO,EAAE,oBAAOR,OAAA;IAAAkB,QAAA,EAAK;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACzC,IAAIZ,KAAK,EAAE,oBAAOV,OAAA;IAAAkB,QAAA,EAAMR;EAAK;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAEpC,oBACItB,OAAA;IAAKuB,SAAS,EAAC,WAAW;IAACC,KAAK,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAY,CAAE;IAAAR,QAAA,eACrElB,OAAA;MAAKuB,SAAS,EAAC,WAAW;MAACC,KAAK,EAAE;QAAEG,UAAU,EAAE,MAAM;QAAEC,YAAY,EAAE,KAAK;QAAEC,SAAS,EAAE,4BAA4B;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAZ,QAAA,GAEnIZ,IAAI,CAACyB,KAAK,iBACP/B,OAAA;QACIgC,GAAG,EAAE,wBAAwB1B,IAAI,CAACyB,KAAK,EAAG;QAC1CE,GAAG,EAAC,MAAM;QACVT,KAAK,EAAE;UACHU,KAAK,EAAE,MAAM;UACbC,SAAS,EAAE,OAAO;UAClBC,SAAS,EAAE,OAAO;UAClBR,YAAY,EAAE,MAAM;UACpBS,YAAY,EAAE,QAAQ;UACtBR,SAAS,EAAE;QACf;MAAE;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACJ,eACDtB,OAAA;QAAKuB,SAAS,EAAC,YAAY;QAACC,KAAK,EAAE;UAAEc,QAAQ,EAAE,QAAQ;UAAEC,UAAU,EAAE,MAAM;UAAEF,YAAY,EAAE;QAAS,CAAE;QAAAnB,QAAA,EAAEZ,IAAI,CAACkC;MAAK;QAAArB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACzHtB,OAAA;QAAKuB,SAAS,EAAC,WAAW;QAACC,KAAK,EAAE;UAAEiB,KAAK,EAAE,MAAM;UAAEJ,YAAY,EAAE;QAAS,CAAE;QAAAnB,QAAA,GAAC,KAAG,EAAC,EAAAf,YAAA,GAAAG,IAAI,CAACoC,MAAM,cAAAvC,YAAA,uBAAXA,YAAA,CAAawC,IAAI,KAAI,SAAS,EAAC,KAAG,EAAC,IAAIC,IAAI,CAACtC,IAAI,CAACuC,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC;MAAA;QAAA3B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACxKtB,OAAA;QAAGwB,KAAK,EAAE;UAAEE,MAAM,EAAE,QAAQ;UAAEY,QAAQ,EAAE,SAAS;UAAES,UAAU,EAAE;QAAM,CAAE;QAAA7B,QAAA,EAAEZ,IAAI,CAAC0C;MAAO;QAAA7B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1FtB,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE,MAAM;UAAEI,KAAK,EAAE,SAAS;UAAEF,UAAU,EAAE;QAAO,CAAE;QAAArB,QAAA,GAAC,QAClE,EAAC,EAAAd,UAAA,GAAAE,IAAI,CAAC2C,IAAI,cAAA7C,UAAA,uBAATA,UAAA,CAAW8C,IAAI,CAAC,IAAI,CAAC,KAAI,MAAM;MAAA;QAAA/B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC,eACNtB,OAAA;QAAKwB,KAAK,EAAE;UAAE2B,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE,MAAM;UAAEC,SAAS,EAAE;QAAS,CAAE;QAAApC,QAAA,gBACpFlB,OAAA;UACIuD,OAAO,EAAE,MAAAA,CAAA,KAAY;YACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;YAC3C,IAAI,CAACF,KAAK,EAAE;YACZ,MAAMG,GAAG,GAAG,MAAM7D,QAAQ,CAACQ,IAAI,CAACsD,GAAG,EAAEJ,KAAK,CAAC;YAC3CjD,OAAO,CAACsD,CAAC,KAAK;cAAE,GAAGA,CAAC;cAAEC,KAAK,EAAEH,GAAG,CAACG;YAAM,CAAC,CAAC,CAAC;UAC9C,CAAE;UACFtC,KAAK,EAAE;YAAEG,UAAU,EAAE,MAAM;YAAEc,KAAK,EAAE,SAAS;YAAEsB,MAAM,EAAE,mBAAmB;YAAEnC,YAAY,EAAE,KAAK;YAAEM,KAAK,EAAE,EAAE;YAAE8B,MAAM,EAAE,EAAE;YAAEb,OAAO,EAAE,MAAM;YAAEC,UAAU,EAAE,QAAQ;YAAEa,cAAc,EAAE,QAAQ;YAAE1B,UAAU,EAAE,MAAM;YAAED,QAAQ,EAAE,QAAQ;YAAE4B,MAAM,EAAE;UAAU,CAAE;UACrP1B,KAAK,EAAC,MAAM;UAAAtB,QAAA,EACf;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACXtB,OAAA;UAAMwB,KAAK,EAAE;YAAEiB,KAAK,EAAE,SAAS;YAAEF,UAAU,EAAE;UAAO,CAAE;UAAArB,QAAA,GAAEZ,IAAI,CAACwD,KAAK,GAAGxD,IAAI,CAACwD,KAAK,CAACK,MAAM,GAAG,CAAC,EAAC,QAAM;QAAA;UAAAhD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACxGtB,OAAA;UAAMwB,KAAK,EAAE;YAAEiB,KAAK,EAAE,MAAM;YAAEF,UAAU,EAAE;UAAO,CAAE;UAAArB,QAAA,GAAEZ,IAAI,CAAC8D,KAAK,IAAI,CAAC,EAAC,QAAM;QAAA;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACpB,EAAA,CAnEID,UAAU;EAAA,QACGL,SAAS;AAAA;AAAAyE,EAAA,GADtBpE,UAAU;AAqEhB,eAAeA,UAAU;AAAC,IAAAoE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}